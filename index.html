<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="vue.js"></script>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/vuex@next"></script>
</head>
<body onload="loadedFunc()">
<div id="app">
    <p v-bind:title="message" v-if="seen">现在你看到我了</p>
    <ol>
        <!-- 现在我们为每个 todo-item 提供 todo 对象    todo 对象是变量，即其内容可以是动态的。
          我们也需要为每个组件提供一个“key”，晚些时候我们会做个解释。 -->
        <todo-item v-for="geo in groceryList"  v-bind:todos="geo"  v-bind:key="geo.id"></todo-item>
    </ol>
    fullName is: {{fullName}}
    <input v-bind:style="[styleObject,overridingStyles]" type="text" v-model="message"><!---表单输入和应用状态之间的双向绑定-->

    <button @click.prevent="reverseMessage">逆转消息</button>
    <div v-html="rawHtml">{{ message ? 'yes':'no'}}</div> <!--只能是单个表达式，不能语句，不能流程控制语句，但三元表达式除外--->
    <div><span v-for="n in 10">{{ n }}</span></div>

</div>

<script type="text/javascript">
//    function loadedFunc(){

        new Vue({
            el:'#todo-list-example',
            data:{
                newTodoText:'',
                todos:[{
                    id:1,
                    title:'todo 1 '
                },{
                    id:2,
                    title:'todo 2 '
                },{
                    id:3,
                    title:'todo 3 '
                } ]
            },
            methods:{
                addNewTodo:function(){
                    this.todos.push({
                        id:this.nextTodoId++,
                        title:'todo'
                    });
                }
            }
        });

        Vue.component('todo-item', { // 注册组件： 一个组件本质上是一个拥有预定义选项的一个 Vue 实例
            props: ['todos'],
            template: '<li>{{ todos.text }}</li>'
        });
        Vue.component('todo-item',{
            template:'<li>{{title}}<button v-on:click="$emit(\'remove\')">X</button></li>',
            props:['title']
        });

        var app = new Vue({
            el: '#app',
            data: {
                message:'hello vue',
                seen:true,
                groceryList: [
                    { id: 0, text: '蔬菜' },
                    { id: 1, text: '奶酪' },
                    { id: 2, text: '随便其他什么人吃的东西' }
                ],
                firstName:'tang dd',
                lastName:'',
                answer:'answer',
                styleObject: {
                    color: 'red',
                    fontSize: '13px',
                    border:'1px solid red'
                },
                overridingStyles:{
                    border:'1px solid '
                }
            },
            watch:{
                question:function(newMessage){
                    this.answer = 'waiting for you to stop typing..';
                    this.getAnswer();
                }
            },
            methods:{
                reverseMessage:function(){
                    this.message = this.message.split('').reverse().join('')+'888888';
                },
                /**
                 getAnswer: _.debounce(
                 function () {
                    if (this.message.indexOf('?') === -1) {
                        this.answer = 'Questions usually contain a question mark. ;-)';
                        return
                    }
                    this.answer = 'Thinking...'
                    var vm = this
                    axios.get('https://yesno.wtf/api')
                        .then(function (response) {
                            vm.answer = _.capitalize(response.data.answer)
                        })
                        .catch(function (error) {
                            vm.answer = 'Error! Could not reach the API. ' + error
                        })
                },
                 // 这是我们为用户停止输入等待的毫秒数
                 500
                 )
                 */
            },
            computed:{
                fullName:{//计算属性
                    get:function(){
                        return this.firstName + ' ' +this.lastName;
                    },
                    set:function(newValue){
                        var names = newValue.split(' ');
                        this.firstName = names[0];
                        this.lastName = names[names.length - 1];
                    }
                }
            },
            created:function(){ //所有的 Vue 组件都是 Vue 实例
                console.log('message is:' + this.message);
            },
            mounted:function(){

            },
            updated:function(){

            },
            destroyed:function(){

            },

        });
//    }

    // 1.Vue.set()
    // 2. Array.prototype.splice() 折两种方法可以实现vm.items[indexOfItem] = newValue 相同的效果，同时也将触发状态更新
    /**  vue-loader把  .Vue 组件转换为javascript模块
      webpack是一个模块打包工具   将一大堆文件一一理顺，找出他们的依赖关系，并且将他们打包成可部署的静态资源
     转换es2015  coffeescript  typescript模块为普通的es5 CommonJS模块
      预处理
     jade模板转换成纯html
     sass转换成纯css 将生成的css作为style标签插入页面
     处理html css中引用的图片  转移到配置的路径中  并且使用md5 hash重命名


    */
    </script>
</body>
</html>